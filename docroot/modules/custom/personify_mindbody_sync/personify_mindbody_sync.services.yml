services:
  personify_mindbody_sync.wrapper:
    class: Drupal\personify_mindbody_sync\PersonifyMindbodySyncWrapper
    arguments: []
  personify_mindbody_sync.fetcher:
    class: Drupal\personify_mindbody_sync\PersonifyMindbodySyncFetcher
    arguments: ['@personify_mindbody_sync.wrapper', '@http_client', '@config.factory', '@logger.factory']
  personify_mindbody_sync.proxy:
    class: Drupal\personify_mindbody_sync\PersonifyMindbodySyncProxy
    arguments: ['@personify_mindbody_sync.wrapper', '@logger.factory', '@entity.query', '@entity_type.manager']
  personify_mindbody_sync.pusher:
    class: Drupal\personify_mindbody_sync\PersonifyMindbodySyncPusher
    arguments: ['@personify_mindbody_sync.wrapper', '@mindbody_cache_proxy.client', '@logger.factory']
  personify_mindbody_sync.syncer:
    class: Drupal\ymca_sync\Syncer
    arguments: []
    calls:
      - [addStep, ['@personify_mindbody_sync.fetcher', 'fetch']]
      - [addStep, ['@personify_mindbody_sync.proxy', 'saveEntities']]
      - [addStep, ['@personify_mindbody_sync.pusher', 'push']]
