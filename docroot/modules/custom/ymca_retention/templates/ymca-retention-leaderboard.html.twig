<div id="leaderboard-app" class="row" data-ng-controller="LeaderboardController">
  <div class="container">
    <div class="col-xs-12">
      <div class="wrap">
        <img src="/themes/custom/ymca/prototypes/ysr/img/cup.png" alt="Leaderboard">
      </div>
      <h2>{{ 'Leaderboard'|t }}</h2>

      <form action="#" class="leaderboard-form">
        <select name="location" id="leaderboard-location" class="form-select form-control text default" data-ng-model="location" data-ng-change="locationChange(location)" data-ng-options="location as location.name for location in locations track by location.branch_id">
        </select>
      </form>

      <div class="results-table-wrapper ng-hide" data-ng-show="location.branch_id != 0">
        <table class="results-table">
          <thead>
          <tr>
            <th colspan="2">Sort by:</th>
            <th class="member-id"></th>
            <th><a class="sort-link swimming" data-ng-click="sort('activities[0]')" data-ng-class="headerClass('activities[0]')">Swimming</a></th>
            <th><a class="sort-link fitness" data-ng-click="sort('activities[1]')" data-ng-class="headerClass('activities[1]')">Fitness</a></th>
            <th><a class="sort-link group-exercise" data-ng-click="sort('activities[2]')" data-ng-class="headerClass('activities[2]')">Group Exercises</a></th>
            <th><a class="sort-link visits" data-ng-click="sort('visits')" data-ng-class="headerClass('visits')">Visits</a></th>
          </tr>
          </thead>
          <tbody>
          <tr data-ng-repeat="member in members | orderBy:order:reverse | limitTo:quantity">
            <td class="number">{{ '{{$index + 1}}' }}<small data-ng-if="$index == 0">st</small><small data-ng-if="$index == 1">nd</small><small data-ng-if="$index == 2">rd</small>
            </td>
            <td class="name">
              {{ '{{member.first_name}} {{member.last_name}}' }}.
              <span class="member-id">ID: {{ '{{member.membership_id}}' }}</span>
            </td>
            <td class="member-id">ID: ******** {{ '{{member.membership_id}}' }}</td>
            <td class="activity-count">{{ '{{member.activities[0]}}' }}</td>
            <td class="activity-count">{{ '{{member.activities[1]}}' }}</td>
            <td class="activity-count">{{ '{{member.activities[2]}}' }}</td>
            <td class="activity-count">{{ '{{member.visits}}' }}</td>
          </tr>
          </tbody>
        </table>
      </div>

      <div class="pager ng-hide" data-ng-show="quantity < members.length" data-ng-click="loadMore()">
        <a class="load-more">+ Show 20 more</a>
      </div>

    </div>
  </div>
</div>
