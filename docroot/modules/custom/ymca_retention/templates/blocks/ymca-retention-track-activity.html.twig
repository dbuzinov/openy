{#
/**
 * @file
 * Display track activity block.
 */
#}
<div data-ng-show="!retentionC.storage.member">
  <p>{{ 'Please login or register.'|t }}</p>
</div>
<div class="yfr-activities ng-hide"
     data-ng-controller="ActivityController as activityC"
     data-ng-show="retentionC.storage.member">
  <div class="yfr-activities__header">
    <div class="container">
      <div class="activity-tabs">
        <div class="form-item form-type-select ng-hide" data-ng-show="activityC.storage.dates.length > 0">
          <label for=""></label>
          <select class="form-select"
                  data-ng-model="activityC.date_selected"
                  data-ng-options="date.label for date in activityC.storage.dates track by date.index">
          </select>
        </div>

        <ul>
          <li class="activity-tab" data-ng-repeat="activity_group in activityC.storage.activity_groups"
              data-ng-class="activityC.activityGroupClass($index, activity_group)"
              data-ng-click="activityC.activityGroupSet($index)">
            <a href="#{{ '{{activity_group.machine_name}}' }}" data-toggle="tab">{{ '{{activity_group.name}}' }}</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="yfr-activities__content">
    <div class="container">
      <div class="row">
        <div class="activity-items ng-hide"
             data-ng-repeat="activity_group in activityC.storage.activity_groups"
             data-ng-attr-id="{{ '{{activity_group.machine_name}}' }}"
             data-ng-class="activityC.activityGroupClass($index, activity_group)"
             data-ng-show="activityC.activityGroupShow($index)">
          <div class="col-xs-12 col-sm-4" data-ng-repeat="activity in activity_group.activities">
            <div class="form-item-checkbox">
              <input id="checkbox-{{ '{{activity.id}}' }}" type="checkbox"
                     data-ng-model="activityC.storage.member_activities[activityC.date_selected.timestamp][activity.id]"
                     data-ng-change="activityC.activityItemChange(activity.id)"
                     data-ng-class="activityC.activityItemClass(activity.id)"
                     data-ng-disabled="activityC.storage.progress.active()">
              <label for="checkbox-{{ '{{activity.id}}' }}"><span>{{ '{{activity.name}}' }}</span>
                <small class="ng-hide" data-ng-show="activity.description">{{ '{{activity.description}}' }}</small>
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
